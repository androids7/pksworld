
var storagePcContainerIdBase="storagePcContainer";function loadStorageBox(obj,targetBoxIndex,targetBoxNum)
{$$(".boxInterface")[targetBoxIndex].select(".quickList ul li a").invoke('removeClassName','selected');$$(".boxInterface")[targetBoxIndex].select(".quickList ul li a")[targetBoxNum].addClassName("selected");ajaxLoad(obj.href,'get',{ajax:1},"ajaxLoadedContent",function(){removeWhiteSpaces(storagePcContainerIdBase+targetBoxIndex);completeStorageBoxLoading(targetBoxIndex);});}
function completeStorageBoxLoading(boxIndex)
{var targetBox=$$(".boxInterface")[boxIndex].select(".boxContent")[0];var ajaxLoaded=$("ajaxLoadedContent").innerHTML;$("ajaxLoadedContent").innerHTML="";targetBox.replace(ajaxLoaded);initializeStoragePc(storagePcContainerIdBase+boxIndex);}
function initializeAllStoragePcs()
{var i=0;for(;$(storagePcContainerIdBase+i);i++){initializeStoragePc(storagePcContainerIdBase+i);}}
function initializeStoragePc(pcContainer){Droppables.add(pcContainer,{accept:"pokemon",onHover:function(elDrag,elDrop,perc){elDrag.setStyle({cursor:'pointer'});},onDrop:function(elDrag,elDrop,ev){elDrop.setStyle({cursor:'auto'});new Effect.Highlight(elDrop);var teamSlot=$(elDrag.id);var emptySlot=$$("#"+elDrop.id+" .emptySlot")[0];emptySlot.innerHTML=elDrag.innerHTML;emptySlot.removeClassName("emptySlot");emptySlot.addClassName("pokemon");emptySlot.addClassName("boxPokemon");emptySlot.dragHandle=new Draggable(emptySlot.id,{revert:true,zindex:2000});emptySlot.setStyle({cursor:'move'});if(!teamSlot.hasClassName("boxPokemon")){teamSlot.innerHTML="---";}else{teamSlot.innerHTML="&nbsp;";teamSlot.removeClassName("boxPokemon");}
teamSlot.removeClassName("pokemon");teamSlot.addClassName("emptySlot");teamSlot.dragHandle.destroy();teamSlot.setStyle({cursor:'auto'});}});var draggableObjects=$$("#"+pcContainer+" .pokemon");draggableObjects.each(function(item){item.dragHandle=new Draggable(item.id,{revert:true,zindex:2000});item.setStyle({cursor:'move'});});$(pcContainer).setStyle({position:'static'});}
function initializeStoragePcPokemonTeam(){var teamId="pokemonTeamListing";Droppables.add(teamId,{accept:"pokemon",onHover:function(elDrag,elDrop,perc){elDrag.setStyle({cursor:'pointer'});},onDrop:function(elDrag,elDrop,ev){elDrop.setStyle({cursor:'auto'});new Effect.Highlight(elDrop);var boxPokemon=elDrag;var emptySlot=$$("#"+elDrop.id+" .emptySlot")[0];emptySlot.innerHTML=boxPokemon.innerHTML;emptySlot.removeClassName("emptySlot");emptySlot.removeClassName("boxPokemon");emptySlot.addClassName("pokemon");emptySlot.dragHandle=new Draggable(emptySlot.id,{revert:true,zindex:2000});emptySlot.setStyle({cursor:'move'});boxPokemon.innerHTML="&nbsp;";boxPokemon.removeClassName("pokemon");boxPokemon.removeClassName("boxPokemon");boxPokemon.addClassName("emptySlot");boxPokemon.dragHandle.destroy();boxPokemon.setStyle({cursor:'auto'});}});var draggableObjects=$$("#"+teamId+" .pokemon");draggableObjects.each(function(item){item.dragHandle=new Draggable(item.id,{revert:true,zindex:2000});item.setStyle({cursor:'move'});});$(teamId).setStyle({position:'static',zIndex:10000});$$(".sideBoxInner")[0].setStyle({overflow:'visible'});}